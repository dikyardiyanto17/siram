<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="icon" type="image/png" href="/favicon.png">
    <link rel="stylesheet" href="/assets/css/dashboard_siram.css">
    <link href='https://fonts.googleapis.com/css?family=Plus Jakarta Sans' rel='stylesheet'>
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <link rel="stylesheet" type="text/css" href="/assets/plugins/daterangepicker-master/daterangepicker.css" />
    <link rel="stylesheet" type="text/css" href="/assets/plugins/choosen/chosen.min.css" />
    <title>Telepati</title>
</head>

<body>
    <div class="full-container">
        <div id="warning-modal" class="alert alert-danger warning-modal" role="alert">
            <span id="warning-message">
            </span>
        </div>

        <div id="success-modal" class="alert alert-success success-modal" role="alert">
            <span id="success-message">
            </span>
        </div>
        <div id="create-modal" class="create-meeting-container">
            <div class="create-meeting">
                <div class="create-meeting-header-container">
                    <div class="create-meeting-header">
                        <input placeholder="Masukkan Judul Rapat" type="text" name="room_name" id="room_name">
                    </div>
                </div>
                <div class="create-meeting-content-container">
                    <div class="create-meeting-content-card">
                        <div class="input-meeting">
                            <span>Tipe Rapat</span>
                            <select name="meeting_type" id="meeting_type">
                                <option value="2">Non Perkara</option>
                                <option value="1">Perkara</option>
                            </select>
                        </div>
                        <div class="input-meeting">
                            <span>No Perkara</span>
                            <input type="text" id="no_perkara" class="no_perkara" value="-"
                                style="background-color: #E9ECEF; cursor: not-allowed;" readonly>
                        </div>
                        <div class="input-meeting">
                            <span>Waktu Mulai</span>
                            <input type="text" id="start_date" class="start_date" value="" name="start_date">
                        </div>
                        <div class="input-meeting">
                            <span>Waktu Selesai</span>
                            <input type="text" id="end_date" class="end_date" value="" name="end_date" disabled>
                        </div>
                        <div class="input-meeting">
                            <span>Password</span>
                            <input style="background-color: #E9ECEF; cursor: not-allowed;" readonly id="password"
                                name="password" type="text" class="password" name="password"
                                placeholder="Masukkan Password">
                        </div>
                        <div class="input-meeting-generate-password">
                            <input style="cursor: pointer;" class="generate-random-pw" type="checkbox"
                                name="random-password" id="custom-password-checkbox">
                            <span id="generate-pw-label">Custom Password</span>
                        </div>
                        <div class="input-meeting">
                            <span>Menggunakan Face Recognition</span>
                            <select name="face_recognition" id="face_recognition">
                                <option value="false" selected>Tidak</option>
                                <option value="true">Ya</option>
                            </select>
                        </div>
                        <div class="input-meeting">
                            <span>Keterangan</span>
                            <textarea name="note" id="note" placeholder="Keterangan"></textarea>
                        </div>
                        <div class="input-meeting" id="input-meeting-participants">
                            <span>Peserta Meeting</span>
                            <!-- <input style="background-color: #E9ECEF; cursor: not-allowed;" readonly id="participants"
                                name="participants" type="text" class="participants" name="participants"
                                placeholder="Pilih peserta"> -->
                            <select name="participants" id="participants" multiple class="participants">
                                <option value=""></option>
                                [/ users.forEach(user => { /]
                                <option value="[/= user.participant_id/]">[/= user.full_name/]</option>
                                [/ }) /]
                            </select>
                        </div>
                    </div>
                </div>
                <div class="create-meeting-footer-container">
                    <button type="button" id="save-create-modal-button">Simpan</button>
                    <button type="button" id="close-create-modal-button">Tutup</button>
                </div>
            </div>
        </div>
        <div id="modal-detail" class="detail-meeting-container">
            <div class="detail-meeting">
                <div class="detail-meeting-header-container">
                    <div class="detail-meeting-header">
                        <span id="detail_room_name">Sidang Pengadilan Militer Terkait Pelanggaran Disiplin Anggota
                            TNI</span>
                    </div>
                </div>
                <div class="detail-meeting-content-container">
                    <div class="detail-meeting-content-left">
                        <div class="detail-meeting-content-card">
                            <div class="detail-wrapper">
                                <span>Tipe Rapat</span>
                                <div class="info-wrapper">
                                    <span id="detail_meeting_type">Perkara</span>
                                </div>
                            </div>
                            <div class="detail-wrapper">
                                <span>No. Perkara</span>
                                <div class="info-wrapper">
                                    <span id="detail_no_perkara">5-P/PMT-II/AD/VII/2024</span>
                                </div>
                            </div>
                            <div class="detail-wrapper">
                                <span>Waktu Mulai</span>
                                <div class="wrapper-time">
                                    <div class="wrapper-date">
                                        <div class="info-wrapper">
                                            <img style="width: 12px;" src="/assets/icons/date-icon.svg" alt="calender"
                                                srcset="">&nbsp;&nbsp;<span id="detail_start_time">Hari ini</span>
                                        </div>
                                    </div>
                                    <div class="wrapper-clock">
                                        <div class="info-wrapper">
                                            <img style="width: 12px;" src="/assets/icons/clock_meeting.svg" alt="clock"
                                                srcset="">&nbsp;&nbsp;<span id="detail_start_date">09:00</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="detail-wrapper">
                                <span>Waktu Selesai</span>
                                <div class="wrapper-time">
                                    <div class="wrapper-date">
                                        <div class="info-wrapper">
                                            <img style="width: 12px;" src="/assets/icons/date-icon.svg" alt="calender"
                                                srcset="">&nbsp;&nbsp;<span id="detail_end_time">Hari ini</span>
                                        </div>
                                    </div>
                                    <div class="wrapper-clock">
                                        <div class="info-wrapper">
                                            <img style="width: 12px;" src="/assets/icons/clock_meeting.svg" alt="clock"
                                                srcset="">&nbsp;&nbsp;<span id="detail_end_date">12:00</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="detail-wrapper">
                                <span>Keterangan</span>
                                <div class="info-wrapper">
                                    <span id="detail_note"></span>
                                </div>
                            </div>
                            <div class="detail-wrapper">
                                <span>ID Room</span>
                                <div class="info-wrapper">
                                    <span id="detail_room_id"></span>
                                </div>
                            </div>
                            <div class="detail-wrapper">
                                <span>Password</span>
                                <div class="info-wrapper">
                                    <span id="detail_password"></span>
                                </div>
                            </div>
                            <div class="detail-wrapper">
                                <span>Face Recognition</span>
                                <div class="info-wrapper">
                                    <span id="detail_face_recognition"></span>
                                </div>
                            </div>
                            <div class="detail-wrapper" style="position: relative;">
                                <div id="clipboard-success"><span>Copied</span></div>
                                <button type="button" id="clipboard-button"><i class="far fa-copy"></i>&nbsp;Copy
                                    Link</button>
                            </div>
                        </div>
                    </div>
                    <div class="detail-meeting-content-right">
                        <div class="detail-meeting-content-card">
                            <div class="meeting-member">
                                <span>Peserta Rapat</span>
                                <hr>
                            </div>
                            <div class="meeting-member-list">
                                <table style="width: 100%;" class="table table-borderless">
                                    <thead style="width: 100%;" class="thead-light">
                                        <tr style="width: 100%;">
                                            <th scope="col" style="width: 10px;">No</th>
                                            <th scope="col">ID Peserta</th>
                                            <th scope="col">Nama</th>
                                            <th scope="col">Role</th>
                                        </tr>
                                    </thead>
                                    <tbody id="detail_participant_list">
                                    </tbody>
                                </table>
                                <div id="public-declaration">
                                    <span>Rapat Publik</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="detail-meeting-footer-container">
                    <button id="close-detail-modal-button">Tutup</button>
                </div>
            </div>
        </div>
        <div id="blocker" class="blocker d-none"></div>
        [/- include('partial/header') /]
        <div class="main-container">
            <div class="content-container">
                <div class="menu-option-container">
                    <div class="card-containers" id="new-meeting">
                        <div class="card-icons">
                            <img src="/assets/icons/add_meeting.svg" alt="meet-icons">
                        </div>
                        <h3>Rapat Baru</h3>
                    </div>
                    <a class="card-containers" href="/participant">
                        <div class="card-icons">
                            <img src="/assets/icons/participant_list.svg" alt="meet-icons">
                        </div>
                        <h3>Daftar Peserta</h3>
                    </a>
                    <a class="card-containers" href="/meeting">
                        <div class="card-icons">
                            <img src="/assets/icons/meeting_list.svg" alt="meet-icons">
                        </div>
                        <h3>Daftar Rapat</h3>
                    </a>
                </div>
                <div class="today-overview">
                    <div class="live-clock-container">
                        <div class="live-clock">
                            <h1 id="live-clock"></h1>
                            <h3 id="live-date"></h3>
                        </div>
                    </div>
                    <div class="today-overview-meeting-container">
                        <div class="today-overview-meeting">
                            <div class="overview-header">
                                <div class="total-meetings">
                                    <span id="found">[/= meetings.length /] jadwal sidang ditemukan.</span>
                                </div>
                                <div class="filter-meetings">

                                    <div id="overview-meetings"
                                        style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc; width: 100%">
                                        <img style="width: 15px;" src="/assets/icons/date-icon.svg" alt="calender"
                                            srcset="">&nbsp;&nbsp;
                                        <span></span>&nbsp;&nbsp;<img style="width: 15px;"
                                            src="/assets/icons/arrow_drop.svg" alt="arrowdrop" srcset="">
                                    </div>
                                </div>

                            </div>
                            <div id="overview-content">
                                <!-- <div class="card-meetings">
                                    <div class="left-line"></div>
                                    <div>
                                        <span>Tipe Rapat : Perkara</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>No. Perkara :
                                            123/12/345/23</span>
                                    </div>
                                    <div>
                                        <h3>Sidang Pengadilan Militer Terkait Pelanggaran Disiplin Anggota TNI</h3>
                                    </div>
                                    <div>
                                        <hr>
                                    </div>
                                    <div>
                                        <img style="width: 10px;" src="/assets/icons/date-icon.svg" alt="calender"
                                            srcset="">&nbsp;&nbsp;<span>Hari ini</span>
                                    </div>
                                    <div>
                                        <img style="width: 10px;" src="/assets/icons/clock_meeting.svg" alt="clock"
                                            srcset="">&nbsp;&nbsp;<span>09:00 - 12:00</span>
                                    </div>
                                    <div>
                                        <img style="width: 10px;" src="/assets/icons/institution_meeting.svg"
                                            alt="institution" srcset="">&nbsp;&nbsp;<span>Pengadilan Militer
                                            Jakarta</span>
                                    </div>
                                    <div>
                                        <img style="width: 10px;" src="/assets/icons/participant_meeting.svg"
                                            alt="participant" srcset="">&nbsp;&nbsp;<span>15 Peserta</span>
                                    </div>
                                </div> -->
                                [/ if (meetings.length == 0){ /]
                                <span>Tidak ada meeting hari ini</span>
                                [/ } else { /]
                                [/ for( let index = 0; index < meetings.length; index++ ) { /] <div
                                    class="card-meetings"
                                    id="[/- meetings[index].room_id /]-[/- meetings[index].meeting_type /]">
                                    <div class="left-line"></div>
                                    <div>
                                        <span>Tipe Rapat : [/ if (meetings[index].meeting_type == 1) { /]
                                            Perkara
                                            [/ } else if (meetings[index].meeting_type == 2){ /]
                                            Non Perkara
                                            [/ } else { /]
                                            Lainnya
                                            [/ } /]</span>&nbsp;&nbsp;&nbsp;&nbsp;<span>No. Perkara :
                                            [/ if (meetings[index].meeting_type == 1) { /]
                                            [/= meetings[index].no_perkara /]
                                            [/ } else if (meetings[index].meeting_type == 2){ /]
                                            -
                                            [/ } else { /]
                                            -
                                            [/ } /]</span>
                                    </div>
                                    <div>
                                        <h3>[/= meetings[index].room_name /]</h3>
                                    </div>
                                    <div>
                                        <hr>
                                    </div>
                                    <div>
                                        <img style="width: 10px;" src="/assets/icons/date-icon.svg" alt="calender"
                                            srcset="">&nbsp;&nbsp;<span>
                                            [/ const today = new Date(); /]
                                            [/ today.setHours(0, 0, 0, 0); /] <!-- Start of today -->
                                            [/ const endOfToday = new Date(); /]
                                            [/ endOfToday.setHours(23, 59, 59, 999); /] <!-- End of today -->
                                            [/ if (meetings[index].start_date >= today && meetings[index].start_date <=
                                                endOfToday){/] Hari ini [/ } else {/] [/=meetings[index].start_date /]
                                                [/ } /] </span>
                                    </div>
                                    <div>
                                        [/ const startTime = meetings[index].start_date.toLocaleTimeString([], { hour:
                                        '2-digit', minute: '2-digit' }) /]
                                        [/ const endTime = meetings[index].end_date.toLocaleTimeString([], { hour:
                                        '2-digit', minute: '2-digit' }) /]
                                        <img style="width: 10px;" src="/assets/icons/clock_meeting.svg" alt="clock"
                                            srcset="">&nbsp;&nbsp;<span>[/= startTime /] - [/= endTime /]</span>
                                    </div>
                                    <div>
                                        <img style="width: 10px;" src="/assets/icons/institution_meeting.svg"
                                            alt="institution" srcset="">&nbsp;&nbsp;
                                        <span>[/= meetings[index].note /]</span>
                                    </div>
                                    <div>
                                        <img style="width: 10px;" src="/assets/icons/participant_meeting.svg"
                                            alt="participant" srcset="">&nbsp;&nbsp;
                                            <span> [/ if (meetings[index].meeting_type == 1) { /]
                                            
                                            [/ } else if (meetings[index].meeting_type == 2){ /]
                                            Publik
                                            [/ } else { /]
                                            Lainnya
                                            [/ } /]</span>
                                    </div>
                            </div>
                            [/ } /]
                            [/ } /]
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <script src="https://unpkg.com/@lottiefiles/lottie-player@latest/dist/lottie-player.js"></script>
    <script src="/assets/plugins/jquery/jquery-3.7.1.min.js"></script>
    <script src="/assets/plugins/daterangepicker-master/moment.min.js"></script>
    <script src="/assets/plugins/daterangepicker-master/daterangepicker.js"></script>
    <script src="/assets/plugins/choosen/chosen.jquery.min.js"></script>
    <script>
        let meetingsInfo = [/- JSON.stringify(meetings)/]
    </script>
    <script src="/javascript/dashboard/dashboard.js"></script>
</body>

</html>